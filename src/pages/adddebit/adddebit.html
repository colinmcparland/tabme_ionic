<!--
  Generated template for the AdddebitPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Add a New Debit</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<ion-grid padding>
		<form [formGroup]="debit" (ngSubmit)="addDebit()">
			<ion-row justify-content-center>
				<ion-col col-12>	
					<ion-input formControlName="amount" required type="number" placeholder="Amount ($)"></ion-input>
				</ion-col>
				<ion-col col-12 *ngIf="fetchFriendsComplete">
					<ion-select style="width: 100%; max-width: 100%; padding-left: 0;" formControlName="debtor" placeholder="Debtor">
						<ion-option *ngFor="let friend of friendsList">{{ friend.email }}</ion-option>
					</ion-select>
				</ion-col>
				<ion-col col-12>
					<button ion-button full type='submit' [disabled]="!debit.valid">Add</button>
				</ion-col>
			</ion-row>
		</form>
	</ion-grid>
	<ion-list *ngIf="fetchDebitsComplete">
	  <ion-list-header color="light">My Debits</ion-list-header>
	  	<ion-item *ngFor="let debit of debitList">
	  		<h2>{{ debit.debtor_email }}</h2>
	  		<p>Owes me ${{ debit.amount }}&emsp;&middot;&emsp;{{ debit.created }}</p>
	  	</ion-item>
	</ion-list>
</ion-content>
